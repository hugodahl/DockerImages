ARG frameworkVersion=4.7.2

FROM microsoft/dotnet-framework:{frameworkVersion}-sdk AS build
WORKDIR /sl-sdk

# Download the SL5 SDK installer
RUN ["Invoke-WebRequest", '-Uri https://download.microsoft.com/download/3/A/3/3A35179D-5C87-4D0A-91EB-BF5FEDC601A4/sdk/silverlight_sdk.exe', '-O silverlight_sdk.exe'];

# Run the SL5 SDK installer in quiet mode, and prevent restart
RUN ["silverlight_sdk",  '/quiet', '/norestart']

# Clean up the SDK installer directory
WORKDIR /
# RUN ["rd -r .\sl-sdk"]
LABEL version='0.1'  maintainer='Hugo Dahl <hugo@code-jedi.com>'
